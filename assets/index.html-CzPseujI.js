import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as a,c as s,a as e,d as n,b as t,e as c}from"./app-BT-bWAve.js";const i={},p=e("h1",{id:"钓鱼邮件",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#钓鱼邮件"},[e("span",null,"钓鱼邮件")])],-1),m=e("h2",{id:"伪造伪造发件人",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#伪造伪造发件人"},[e("span",null,"伪造伪造发件人")])],-1),d={href:"https://www.cloudflare-cn.com/learning/email-security/what-is-email-spoofing/",target:"_blank",rel:"noopener noreferrer"},h={href:"https://saucer-man.com/information_security/452.html#cl-4",target:"_blank",rel:"noopener noreferrer"},u={href:"https://www.ti0s.com/39.html",target:"_blank",rel:"noopener noreferrer"},g={href:"https://www.cloudflare-cn.com/learning/email-security/what-is-email/",target:"_blank",rel:"noopener noreferrer"},_=e("p",null,"攻击者使用脚本伪造电子邮件收件人可以看到的字段。这些字段位于电子邮件头中，包括“发件人”和“回复”地址。如下例子显示了这些字段在一封假冒电子邮件中的样子：",-1),f=e("ul",null,[e("li",null,[e("strong",null,"From:"),n(" “Legitimate Sender” email@legitimatecompany.com")]),e("li",null,[e("strong",null,"Reply-to:"),n(" email@legitimatecompany.com")])],-1),w={href:"https://www.cloudflare-cn.com/learning/email-security/what-is-smtp/",target:"_blank",rel:"noopener noreferrer"},y=e("hr",null,null,-1),b=e("p",null,"电子邮件收件人可按照如下步骤来防范电子邮件假冒：",-1),k=e("ul",null,[e("li",null,[e("strong",null,"要警惕那些鼓励迅速或紧急采取行动的信息："),n(" 对于任何要求提供个人信息、付款或其他即时行动的意外或自发的电子邮件，收件人应持怀疑态度。例如，如果突然出现要求更改某个应用程序登录信息的要求，就应该表示怀疑。")]),e("li",null,"**检查电子邮件头：**很多电子邮件客户端提供查看电子邮件头的方法。例如， <a href='https://it.umn.edu/services-technologies/how-tos/gmail-view-email-headers' 'target=_blank'>在 Gmail 中，在一封电子邮件中点击“显示原始邮件”，即可查看其电子邮件头的内容。查看邮件头时，寻找“Received”部分。如果域名不同于“发件人”地址中显示的域名，则该电子邮件很可能是伪造的。"),e("li",null,"**使用软件来过滤假冒邮件：**反垃圾邮件软件可要求对传入的电子邮件进行身份验证，从而阻止假冒企图。")],-1),D={href:"https://www.cloudflare-cn.com/learning/dns/what-is-dns/",target:"_blank",rel:"noopener noreferrer"},x={href:"https://www.cloudflare-cn.com/learning/dns/dns-records/dns-spf-record/",target:"_blank",rel:"noopener noreferrer"},E={href:"https://www.cloudflare-cn.com/learning/dns/dns-records/dns-dkim-record/",target:"_blank",rel:"noopener noreferrer"},C={href:"https://www.cloudflare-cn.com/learning/dns/dns-records/dns-dmarc-record/",target:"_blank",rel:"noopener noreferrer"},M={href:"https://www.cloudflare-cn.com/learning/ddos/glossary/malware/",target:"_blank",rel:"noopener noreferrer"},N=c('<hr><p>以 Postfix + Gophish 为例</p><p>在 <code>Users &amp; Groups</code> 中设置靶机登录的目标邮箱地址</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202406170440685.png" alt="image-20240617043652932"></p><p>在 <code>Sending Profiles</code> 中设置邮件服务器的相关信息</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202406170440246.png" alt="image-20240617044001139"></p><blockquote><p>测试邮件内容如下：</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202406170440443.png" alt="image-20240617044039405"></p></blockquote><p>在 <code>Email Templates</code> 中可以设置钓鱼邮件模板，在 <code>Envelope Sender</code> 那一栏可以伪造发件人昵称与邮箱</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202406170444353.png" alt="image-20240617044410255"></p><hr><p>在 <code>Campaigns</code> 中配置具体活动</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202406170450717.png" alt="image-20240617045010643"></p><p>点击 <code>Send Test Email</code> 可以手动尝试发一封邮件</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202406170449492.png" alt="image-20240617044902437"></p><p>然后在靶机邮箱中可以看到对应邮件</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202406170451908.png" alt="image-20240617045149858"></p><p>可以看到这里拿 Foxmail 打开是看不出来伪造之前的发件人的</p><p>查看邮件原始信息可以看到如下信息：</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202406170506603.png" alt="image-20240617050643574"></p><hr><h2 id="相关链接" tabindex="-1"><a class="header-anchor" href="#相关链接"><span>相关链接</span></a></h2>',21),S={href:"https://xz.aliyun.com/t/6325?time__1311=n4%2BxnD0DRDBDclCKDsAoxCqxmwuMDIOq0Iqx&alichlgref=https%3A%2F%2Fgithub.com%2Ftib36%2FPhishingBook%3Ftab%3Dreadme-ov-file",target:"_blank",rel:"noopener noreferrer"},B=e("hr",null,null,-1);function A(P,v){const r=o("ExternalLinkIcon");return a(),s("div",null,[p,m,e("blockquote",null,[e("p",null,[e("a",d,[n("什么是电子邮件假冒？| Cloudflare | Cloudflare (cloudflare-cn.com)"),t(r)])]),e("p",null,[e("a",h,[n("邮件伪造原理和实践 - SAUCERMAN (saucer-man.com)"),t(r)])]),e("p",null,[e("a",u,[n("关于伪造邮件的简单研究 (ti0s.com)"),t(r)])])]),e("p",null,[n("在"),e("a",g,[n("电子邮件"),t(r)]),n("假冒中，攻击者使用一个电子邮件头掩盖自己的身份，冒充成一个合法的发件人。（电子邮件头是一个代码片段，其中包含有关邮件的重要细节，如发件人、收件人和跟踪数据。）")]),_,f,e("p",null,[n("之所以能够伪造这些字段，原因是"),e("a",w,[n("简单邮件传输协议（SMTP）"),t(r)]),n("没有内建验证电子邮件地址的机制。事实上，发件人和收件人的电子邮件存在于电子邮件的两个位置：邮件头和 SMTP 信封。电子邮件头包括收件人可见的字段。然而，SMTP 信封包含用于邮件服务器用于将电子邮件发送到正确地址的信息。但这些字段不必一致，电子邮件也能成功发送。因为 SMTP 信封从不检查邮件头，而且收件人不能看到信封中的信息，因此电子邮件假冒相对容易实现。")]),y,b,k,e("p",null,[n("域名所有者也可采取措施来防止攻击者从其域发送消息。为此，组织可创建专用于身份验证的"),e("a",D,[n("域名系统（DNS）"),t(r)]),n("记录。其中包括：")]),e("ul",null,[e("li",null,[e("strong",null,[e("a",x,[n("SPF 记录"),t(r)]),n("：")]),n(" 发件人策略框架（SPF）记录列出被授权从特定域发送电子邮件的服务器。这样，如果有人编造了一个与某个域相关联的电子邮件地址，这个地址不会出现在 SPF 记录中，也不会通过认证。")]),e("li",null,[e("strong",null,[e("a",E,[n("DKIM 记录"),t(r)]),n("：")]),n(" 域名密匙确认邮件（DKIM） 记录使用一对密钥进行身份验证：一个公钥和一个私钥。公钥存储于 DKIM 记录中，私钥对 DKIM 头进行数字签名。如果假冒电子邮件来自一个具有 DKIM 记录的域，无法使用正确的密钥签名，因而无法通过验证。")]),e("li",null,[e("strong",null,[e("a",C,[n("DMARC 记录"),t(r)]),n("：")]),n(" 基于域名的消息认证报告与一致性（DMARC）记录包含 DMARC 策略，在检查 SPF 和 DKIM 记录后，告诉邮件服务器如何处理。域名所有者可以根据这些检查设置规则，决定是否阻止、允许或传递消息。由于 DMARC 策略会审查其他身份验证策略，并允许域所有者设置更具体的规则，因此这些记录为防止电子邮件假冒增加了另一层保护。")])]),e("p",null,[n("在组织层面，安全主管也可以采取措施，通过实施网络钓鱼和"),e("a",M,[n("恶意软件"),t(r)]),n("保护，防止员工受到电子邮件假冒侵害。")]),N,e("ul",null,[e("li",null,[e("a",S,[n("钓鱼邮件的投递和伪造 - 先知社区 (aliyun.com)"),t(r)])])]),B])}const R=l(i,[["render",A],["__file","index.html.vue"]]),T=JSON.parse('{"path":"/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E9%92%93%E9%B1%BC/%E9%92%93%E9%B1%BC%E9%82%AE%E4%BB%B6/","title":"钓鱼邮件","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"伪造伪造发件人","slug":"伪造伪造发件人","link":"#伪造伪造发件人","children":[]},{"level":2,"title":"相关链接","slug":"相关链接","link":"#相关链接","children":[]}],"git":{"createdTime":1718572847000,"updatedTime":1719565816000,"contributors":[{"name":"233PC","email":"ayusummer233@gmail.com","commits":2},{"name":"233","email":"ayusummer233@gmail.com","commits":1}]},"readingTime":{"minutes":4.41,"words":1323},"filePathRelative":"网络安全/钓鱼/钓鱼邮件/index.md","localizedDate":"2024年6月16日","excerpt":"\\n<h2>伪造伪造发件人</h2>\\n<blockquote>\\n<p><a href=\\"https://www.cloudflare-cn.com/learning/email-security/what-is-email-spoofing/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">什么是电子邮件假冒？| Cloudflare | Cloudflare (cloudflare-cn.com)</a></p>\\n<p><a href=\\"https://saucer-man.com/information_security/452.html#cl-4\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">邮件伪造原理和实践 - SAUCERMAN (saucer-man.com)</a></p>\\n<p><a href=\\"https://www.ti0s.com/39.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">关于伪造邮件的简单研究 (ti0s.com)</a></p>\\n</blockquote>"}');export{R as comp,T as data};
