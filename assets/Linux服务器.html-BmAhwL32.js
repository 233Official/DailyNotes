import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as i,c,a as e,d as n,b as t,e as a}from"./app-BT-bWAve.js";const d={},r=a('<h1 id="linux服务器" tabindex="-1"><a class="header-anchor" href="#linux服务器"><span>Linux服务器</span></a></h1><ul><li><a href="#linux%E6%9C%8D%E5%8A%A1%E5%99%A8">Linux服务器</a><ul><li><a href="#%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8">远程连接服务器</a><ul><li><a href="#remote-ssh">remote-SSH</a></li></ul></li><li><a href="#%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD">文件下载</a></li><li><a href="#%E8%85%BE%E8%AE%AF%E4%BA%91%E8%BD%BB%E9%87%8F">腾讯云轻量</a><ul><li><a href="#%E5%86%85%E7%BD%91-dns">内网 DNS</a></li><li><a href="#%E4%BD%BF%E7%94%A8%E5%AF%86%E9%92%A5%E7%99%BB%E5%BD%95%E5%88%B0-root-%E8%B4%A6%E6%88%B7">使用密钥登录到 root 账户</a></li></ul></li><li><a href="#%E6%8E%A2%E9%92%88">探针</a></li></ul></li></ul><hr><h2 id="远程连接服务器" tabindex="-1"><a class="header-anchor" href="#远程连接服务器"><span>远程连接服务器</span></a></h2><hr><h3 id="remote-ssh" tabindex="-1"><a class="header-anchor" href="#remote-ssh"><span>remote-SSH</span></a></h3><p>先在控制台生成并绑定密钥(本地密钥妥善保管), 然后再重置 <code>root</code> 密码</p><blockquote><p><img src="http://cdn.ayusummer233.top/img/20211122113415.png" alt="20211122113415"> &gt; <img src="http://cdn.ayusummer233.top/img/20211122113543.png" alt="20211122113543"></p></blockquote>',8),u={href:"https://cloud.tencent.com/document/product/1207/44575",target:"_blank",rel:"noopener noreferrer"},p=a(`<p>打开 VSCode Remote-SSH 插件配置项</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>Host Ubuntu
    HostName 公网ip
    User ubuntu
    IdentityFile <span class="token string">&quot;本地密钥路径&quot;</span>

Host CentOS
    HostName 公网ip
    User root
    IdentityFile <span class="token string">&quot;本地密钥路径&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),h={href:"https://cloud.tencent.com/document/product/1207/44569#ubuntu-.E7.B3.BB.E7.BB.9F.E5.A6.82.E4.BD.95.E4.BD.BF.E7.94.A8-root-.E7.94.A8.E6.88.B7.E7.99.BB.E5.BD.95.E5.AE.9E.E4.BE.8B.EF.BC.9F",target:"_blank",rel:"noopener noreferrer"},m=a("<li>腾讯云启用 root 密码登录后将 <code>remote-ssh</code> 配置项中对应 <code>User</code> 改为 <code>root</code> 后进行远程连接即可使用 <code>root 密码</code> 登录到服务器</li><li><code>CentOS</code> 的话直接使用 <code>root</code> 和 <code>密钥</code> 的配置就可以自动登录到 <code>root 账户</code></li>",2),g=e("code",null,"腾讯云(ubuntu)",-1),b=e("code",null,"ubuntu",-1),v=e("code",null,"root + 密钥",-1),_=e("code",null,"root",-1),k=e("code",null,"root",-1),E=a(`<div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">cat</span> /home/ubuntu/.ssh/authorized_keys <span class="token operator">&gt;</span> /root/.ssh/authorized_keys
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,1),f={href:"https://blog.csdn.net/weixin_39591031/article/details/118700963",target:"_blank",rel:"noopener noreferrer"},B=e("li",null,[e("code",null,"阿里云"),n(" 和 "),e("code",null,"UCLOUD"),n(" 默认是支持 "),e("code",null,"root + 密钥"),n("登录的")],-1),x={href:"https://www.cnblogs.com/peida/archive/2012/10/30/2746968.html",target:"_blank",rel:"noopener noreferrer"},y=a('<ul><li><p>显示文件内容 <code>cat [filename]</code></p><p><img src="http://cdn.ayusummer233.top/img/202111231103098.png" alt="image-20211123110321948"></p></li><li><p>创建一个文件 <code>cat &gt; [filename]</code></p><p><img src="http://cdn.ayusummer233.top/img/202111231111636.png" alt="image-20211123111154541"></p></li><li><p>将若干个文件合并为一个文件: <code>cat file1 file2 &gt; file</code></p><p><img src="http://cdn.ayusummer233.top/img/202111231113303.png" alt="image-20211123111347216"></p></li></ul>',1),S=a(`<hr><h2 id="文件下载" tabindex="-1"><a class="header-anchor" href="#文件下载"><span>文件下载</span></a></h2><ul><li><code>VSCode</code> 连接到服务器确实可以在左栏 <code>资源管理器</code> 处选择文件(夹)右键下载, 不过服务器带宽小的话很容易断连</li><li><code>Xshell + Xftp</code> 正版要付费且没必要为了下载个文件就多装一个软件专门做这件事</li><li>所以考虑直接使用 <code>Linux scp 命令</code> 进行下载</li></ul><p><code>scp</code> 命令无法识别 <code>Windows 目录</code>, 所以要采用一些方式来将 <code>Windows 目录</code> 转化成 <code>Linux 目录</code>,<code>WSL</code> 可以做到这点</p><p><code>Windows + X</code> 打开 <code>Windows 终端</code>, 随便选择安装了的一个 <code>ubuntu 发行版</code> 进入后可以看到当前命令行所在目录 <code>/mnt/c/Users/233</code>, 对应 <code>Windows</code> 的 <code>C:/Users/233 目录</code></p><p><img src="http://cdn.ayusummer233.top/img/202111011032910.png" alt="image-20211101103247697"></p><p>然后使用如下命令将服务器文件下载到本地:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">scp</span> <span class="token punctuation">[</span>user<span class="token punctuation">]</span>@<span class="token punctuation">[</span>ip<span class="token punctuation">]</span>:<span class="token punctuation">[</span>Linux 服务器上目标文件的路径<span class="token punctuation">]</span> <span class="token punctuation">[</span>指定下载到windows本地的路径<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/img/202111011043258.png" alt="image-20211101104310152"></p><p><img src="http://cdn.ayusummer233.top/img/202111011043774.png" alt="image-20211101104334687"></p><p>下载文件夹:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">scp</span> <span class="token parameter variable">-r</span> <span class="token punctuation">[</span>user<span class="token punctuation">]</span>@<span class="token punctuation">[</span>ip<span class="token punctuation">]</span>:<span class="token punctuation">[</span>Linux 服务器上目标文件的路径<span class="token punctuation">]</span> <span class="token punctuation">[</span>指定下载到windows本地的路径<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/img/202111011045617.png" alt="image-20211101104510504"></p><p><img src="http://cdn.ayusummer233.top/img/202111011046461.png" alt="image-20211101104630367"></p>`,14),A={href:"https://blog.csdn.net/fakerswe/article/details/103178542",target:"_blank",rel:"noopener noreferrer"},D=e("code",null,"git bash",-1),w=e("code",null,"ssh 命令",-1),q=e("hr",null,null,-1),C=e("h2",{id:"腾讯云轻量",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#腾讯云轻量"},[e("span",null,"腾讯云轻量")])],-1),N=e("hr",null,null,-1),F={href:"https://cloud.tencent.com/act/new?from=14615",target:"_blank",rel:"noopener noreferrer"},L=e("em",null,"云服务器秒杀",-1),H=e("hr",null,null,-1),U=e("h3",{id:"内网-dns",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#内网-dns"},[e("span",null,"内网 DNS")])],-1),W=e("p",null,[n("yum 命令报错: "),e("code",null,"Could not resolve host: mirrors.tencentyun.com; Unknown error")],-1),P={href:"https://blog.csdn.net/user2025/article/details/107733068",target:"_blank",rel:"noopener noreferrer"},z=e("p",null,[n("原因：腾讯云服务器内网 yum 源的域名 mirrors.tencentyun.com 需要有内网的 DNS 才能访问，但是实际情况下，我们会根据需要修改 DNS，为了使用腾讯云内网快速稳定的内网源，我们需要把 DNS 恢复为内网 DNS，下面为各地区服务器 DNS 地址 解决办法： (1) 修改服务器的 DNS 配置文件："),e("code",null,"/etc/resolv.conf"),n(" ，请参阅如下文档添加对应地区的内网 DNS 服务器")],-1),V={href:"https://cloud.tencent.com/document/product/213/5225",target:"_blank",rel:"noopener noreferrer"},G=a(`<blockquote><p>我用的上海地域的轻量, 配上海或者上海金融的 DNS 都不对, 最后无奈重置实例才发现原来应该配最后一个所有地域的那个 DNS</p><p><img src="http://cdn.ayusummer233.top/img/202109162038974.png" alt="image-20210916203841882"></p></blockquote><p>(2) 重启网络服务</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 重启方式1：</span>
/etc/init.d/network restart
<span class="token comment">#重启方式2：</span>
systemctl restart network
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),I=e("hr",null,null,-1),X=e("h3",{id:"使用密钥登录到-root-账户",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#使用密钥登录到-root-账户"},[e("span",null,"使用密钥登录到 root 账户")])],-1),O={href:"https://blog.csdn.net/weixin_39591031/article/details/118700963",target:"_blank",rel:"noopener noreferrer"},T=a(`<ul><li>腾讯云的 <code>ubuntu</code> 系统, 生成密钥后绑定服务器默认会绑定在 <code>ubuntu</code> 用户下, 若要通过密钥登录到 <code>root</code> 用户则需要将 <code>ubuntu</code> 用户下的密钥复制到 <code>root</code> 用户下:<div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">cat</span> /home/ubuntu/.ssh/authorized_keys <span class="token operator">&gt;</span> /root/.ssh/authorized_keys
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>然后就可以使用密钥登录到 <code>root</code> 用户了</li></ul><hr><h2 id="探针" tabindex="-1"><a class="header-anchor" href="#探针"><span>探针</span></a></h2>`,3),R={href:"https://github.com/CokeMine/ServerStatus-Hotaru",target:"_blank",rel:"noopener noreferrer"},J=a(`<p>在连不上 GitHub 时使用方式</p><blockquote><p>Coding 目前好像是需要登录才能下载, 仓库提供的默认脚本使用 coding 会拉不下来仓库, 所以还是用 github</p><p>将源仓库中的 github 相关链接换成了 GitHub Proxy 对应链接, 于是有了下文中的脚本</p></blockquote><ul><li><p>服务端</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 源仓库的 shell(由于有时服务器不一定可以连上 github 所以修改了其中的部分链接便有了下面第二个自己修改的 shell)</span>
<span class="token comment"># wget https://cokemine.coding.net/p/hotarunet/d/ServerStatus-Hotaru/git/raw/master/status.sh</span>
<span class="token function">wget</span> https://cdn.ayusummer233.top/shell/status.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">bash</span> status.sh s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><ul><li><code>选择 GitHub / Coding.net</code>: 保持默认(Github)(1)</li><li><code>选择监听端口</code>: 保持默认(35601) 或者自己填个未被使用且已放通的端口</li><li><code>自动部署</code>: 保持默认(y)</li><li><code>输入本机域名或ip</code>: 没有域名就直接输入本机 ip</li><li><code>输入 ServerStatus 服务端中网站要设置的 域名/IP 的端口</code>: 随便输个未被使用且已放通的端口, 这个端口用于访问 Web 页面</li></ul><p><img src="http://cdn.ayusummer233.top/img/202209131744795.png" alt="image-20220913174443396"></p><p><img src="http://cdn.ayusummer233.top/img/202209131745321.png" alt="image-20220913174525133"></p><p><img src="http://cdn.ayusummer233.top/img/202209131748700.png" alt="image-20220913174857476"></p><p><img src="http://cdn.ayusummer233.top/img/202209131749559.png" alt="image-20220913174920330"></p></blockquote></li><li><p>客户端</p><p>首先在服务端添加一个节点配置, 用于与客户端配置对接</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">bash</span> status.sh s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>进入 7-服务端配置</li><li>1 - 节点配置</li><li>设置节点账密(自定义, 之后客户端通过此项配置进行连接)以及基本信息</li></ul></li></ul><blockquote><p><img src="http://cdn.ayusummer233.top/img/202209131754161.png" alt="image-20220913175404031"></p><p><img src="http://cdn.ayusummer233.top/img/202209131757271.png" alt="image-20220913175713057"></p></blockquote><p>在客户端进行相应配置(与服务端刚才设置的节点信息一致即可)</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 源仓库的 shell(由于有时服务器不一定可以连上 github 所以修改了其中的部分链接便有了下面第二个自己修改的 shell)</span>
<span class="token comment"># wget https://cokemine.coding.net/p/hotarunet/d/ServerStatus-Hotaru/git/raw/master/status.sh</span>
<span class="token function">wget</span> https://cdn.ayusummer233.top/shell/status.sh
<span class="token function">bash</span> status.sh c
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><img src="http://cdn.ayusummer233.top/img/202209131759040.png" alt="image-20220913175901782"></p></blockquote><hr><p>若客户端为 windows 则需要手动用 Python 跑下</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">curl</span> https://bootstrap.pypa.io/get-pip.py <span class="token parameter variable">-o</span> get-pip.py <span class="token comment"># 若未安装pip</span>
python get-pip.py
<span class="token comment"># 可以换下源, 不换也行</span>
pip config <span class="token builtin class-name">set</span> global.index-url https://pypi.tuna.tsinghua.edu.cn/simple/
pip <span class="token function">install</span> psutil
<span class="token comment"># 修改 status-psutil.py(在主仓库的 clients 目录中)</span>
<span class="token comment"># https://github.com/cokemine/ServerStatus-Hotaru/blob/master/clients/status-psutil.py</span>
<span class="token comment"># 运行程序, 也可以将这句写成个 bat 文件然后双击运行</span>
python status-psutil.py
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>cmd 在快速编辑模式下运行命令时, 若用户鼠标点击到窗口区域可能会引起程序阻塞, 可以将其点掉</p><p><img src="http://cdn.ayusummer233.top/img/202209281007350.png" alt="image-20220928100730680"></p><blockquote><p>快速编辑模式是一种很便捷的操作方式：左键选中，右键复制以及右键从剪贴板粘贴内容等<br> 如果鼠标选中控制台界面上的内容，控制台就被阻塞了<br> 在 Windows Server 2012 及 Windowns 8 以上，控制台窗口的程序默认是打开“快速编辑模式”的开关的。</p></blockquote></blockquote><hr>`,12);function M(j,K){const s=o("ExternalLinkIcon");return i(),c("div",null,[r,e("blockquote",null,[e("p",null,[e("a",u,[n("轻量应用服务器 重置密码 - 操作指南 - 文档中心 - 腾讯云 (tencent.com)"),t(s)])])]),p,e("ul",null,[e("li",null,[n("腾讯云轻量的 ubuntu 默认禁用 root 用户名通过密码方式登录实例, 如需开启请参考 "),e("a",h,[n("Ubuntu 系统如何使用 root 用户登录实例？"),t(s)]),e("ul",null,[m,e("li",null,[n("由于"),g,n("绑定密钥默认绑定在 "),b,n(" 用户下, 因此腾讯云使用 "),v,n(" 的形式登录 "),_,n(" 账户需要将密钥拷贝到 "),k,n(" 账户配置下即可:"),E,e("blockquote",null,[e("p",null,[e("a",f,[n("腾讯云 密钥直接登录 root_Xav Pun 的博客-CSDN 博客"),t(s)])])])])])]),B]),e("blockquote",null,[e("p",null,[e("a",x,[n("每天一个 linux 命令(10) ：cat 命令 - peida - 博客园 (cnblogs.com)"),t(s)])]),y]),S,e("blockquote",null,[e("p",null,[e("a",A,[n("一说 git bash 可以"),t(s)]),n(", 不过我拿 "),D,n(" 用 "),w,n(" 连接服务器总是被拒绝连接")])]),q,C,N,e("p",null,[e("a",F,[n("云产品首单秒杀"),L,n("云数据库秒杀 - 腾讯云 (tencent.com)"),t(s)]),n("[PS: 2C4G 轻量首年 74]")]),H,U,e("ul",null,[e("li",null,[W,e("p",null,[e("a",P,[n("Could not resolve host: mirrors.tencentyun.com_user2025 的博客-CSDN 博客"),t(s)])]),z,e("p",null,[e("a",V,[n("云服务器 内网服务 - 产品简介 - 文档中心 - 腾讯云 (tencent.com)"),t(s)])]),G])]),I,X,e("blockquote",null,[e("p",null,[e("a",O,[n("腾讯云 密钥直接登录 root_Xav Pun 的博客-CSDN 博客"),t(s)])])]),T,e("blockquote",null,[e("p",null,[e("a",R,[n("cokemine/ServerStatus-Hotaru: 云探针、多服务器探针、云监控、多服务器云监控 (github.com)"),t(s)])])]),J])}const Z=l(d,[["render",M],["__file","Linux服务器.html.vue"]]),$=JSON.parse('{"path":"/%E9%80%9A%E8%AF%86/Linux/Linux%E6%9C%8D%E5%8A%A1%E5%99%A8.html","title":"Linux服务器","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"远程连接服务器","slug":"远程连接服务器","link":"#远程连接服务器","children":[{"level":3,"title":"remote-SSH","slug":"remote-ssh","link":"#remote-ssh","children":[]}]},{"level":2,"title":"文件下载","slug":"文件下载","link":"#文件下载","children":[]},{"level":2,"title":"腾讯云轻量","slug":"腾讯云轻量","link":"#腾讯云轻量","children":[{"level":3,"title":"内网 DNS","slug":"内网-dns","link":"#内网-dns","children":[]},{"level":3,"title":"使用密钥登录到 root 账户","slug":"使用密钥登录到-root-账户","link":"#使用密钥登录到-root-账户","children":[]}]},{"level":2,"title":"探针","slug":"探针","link":"#探针","children":[]}],"git":{"createdTime":1727161456000,"updatedTime":1727161456000,"contributors":[{"name":"233","email":"ayusummer233@vip.qq.com","commits":1}]},"readingTime":{"minutes":6.21,"words":1864},"filePathRelative":"通识/Linux/Linux服务器.md","localizedDate":"2024年9月24日","excerpt":"\\n<ul>\\n<li><a href=\\"#linux%E6%9C%8D%E5%8A%A1%E5%99%A8\\">Linux服务器</a>\\n<ul>\\n<li><a href=\\"#%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8\\">远程连接服务器</a>\\n<ul>\\n<li><a href=\\"#remote-ssh\\">remote-SSH</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"#%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD\\">文件下载</a></li>\\n<li><a href=\\"#%E8%85%BE%E8%AE%AF%E4%BA%91%E8%BD%BB%E9%87%8F\\">腾讯云轻量</a>\\n<ul>\\n<li><a href=\\"#%E5%86%85%E7%BD%91-dns\\">内网 DNS</a></li>\\n<li><a href=\\"#%E4%BD%BF%E7%94%A8%E5%AF%86%E9%92%A5%E7%99%BB%E5%BD%95%E5%88%B0-root-%E8%B4%A6%E6%88%B7\\">使用密钥登录到 root 账户</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"#%E6%8E%A2%E9%92%88\\">探针</a></li>\\n</ul>\\n</li>\\n</ul>"}');export{Z as comp,$ as data};
